!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.rexparse=t():e.rexparse=t()}(window,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=238)}({1:function(e,t){e.exports=function(e,t,r){if(e&&"number"!=typeof e){if(e.hasOwnProperty(t))return e[t];if(-1!==t.indexOf(".")){for(var n=t.split("."),i=e,o=r,a=0;a<n.length;a++){if(!i.hasOwnProperty(n[a])){o=r;break}o=i[n[a]],i=i[n[a]]}return o}return r}return r}},116:function(e,t,r){"use strict";var n=r(62);t.a=function(e){return e.select("id"),Object(n.a)(e).then(function(e){return 0===e.length?Promise.resolve():Parse.Object.destroyAll(e)})}},119:function(e,t,r){"use strict";var n=function e(t){var r=t.query,n=Math.min(t.remainderLines,t.linesPerPage);return t.remainderLines-=n,r.skip(t.startIndex).limit(n).find().then(function(r){var i,o=0===t.remainderLines||r.length<n;return t.forEachPageCallback&&(o|=!!t.forEachPageCallback(r)),o?(t.resolveCallback&&(i=t.resolveCallback()),Promise.resolve(i)):(t.startIndex+=r.length,e(t))})};t.a=function(e){return void 0===e.startIndex&&(e.startIndex=0),void 0===e.totalLines&&(e.totalLines=1/0),void 0===e.linesPerPage&&(e.linesPerPage=1e3),e.remainderLines=e.totalLines,n(e)}},178:function(e,t,r){"use strict";var n=r(93),i="https://npmcdn.com/parse@".concat("2.11.0","/dist/parse.min.js");t.a=function(e){return void 0===e&&(e=i),Object(n.a)(e)}},179:function(e,t,r){"use strict";var n=function(e,t){var r=new Parse.User;return r.set("username",e).set("password",t),r.signUp().then(function(){return Parse.User.logIn(e,t)})};t.a=function(e,t){return Parse.User.logOut().then(function(){return Parse.User.logIn(e,t)}).catch(function(){return n(e,t)})}},190:function(e,t,r){"use strict";var n=r(75),i=r(70),o=r(6);i.a.register("pageLoader",function(e){return new n.a(e)}),Object(o.a)(window,"RexPlugins.Parse.PageLoader",n.a);n.a},198:function(e,t,r){"use strict";var n=r(1),i=r.n(n),o=r(31),a=r.n(o),s=function(e){var t=e?new Date(e):new Date,r=t.getFullYear(),n=t.getMonth()+1,i=t.getDate(),o=new Date(t.getFullYear(),0,1),a=Math.ceil(((t-o)/864e5+o.getDay()+1)/7);return{d:"".concat(r,"-").concat(n,"-").concat(i),w:"".concat(r,"-").concat(a),m:"".concat(r,"-").concat(n),y:"".concat(r)}},u={d:"tagD",w:"tagW",m:"tagM",y:"tagY"},c={d:"scoreD",w:"scoreW",m:"scoreM",y:"scoreY"},l=r(85),f=function(e,t,r){var n={userID:this.userID};void 0!==this.boardID&&(n.boardID=this.boardID),this.userName&&(n.userName=this.userName);var i=s(r);if(!1!==this.timeFilters)for(var o in this.timeFilters)this.timeFilters[o]&&(n[u[o]]=i[o],n[c[o]]=e);else n.score=e;this.tag&&(n.tag=this.tag),t&&Object.assign(n,t);i=s();var a=this;return this.getMyRecordQuery().find().then(function(e){var t=e[0];if(t)if(!1!==a.timeFilters){for(var r in a.timeFilters)if(a.timeFilters[r]){var i=u[r];if(t.get(i)===n[i]){var o=c[r];n[o]=Math.max(t.get(o),n[o])}}}else n.score=Math.max(t.get("score"),n.score);return Object(l.a)(n,a.customClass,t).save()})},h={loadFirstPage:function(){this.resetPageQuery();var e=this;return this.page.loadFirstPage().then(function(t){return Promise.resolve(d.call(e,t))})},loadNextPage:function(){this.resetPageQuery();var e=this;return this.page.loadNextPage().then(function(t){return Promise.resolve(d.call(e,t))})},loadPreviousPage:function(){this.resetPageQuery();var e=this;return this.page.loadPreviousPage().then(function(t){return Promise.resolve(d.call(e,t))})},loadCurrentPage:function(){this.resetPageQuery();var e=this;return this.page.loadCurrentPage().then(function(t){return Promise.resolve(d.call(e,t))})},load:function(e,t){this.resetPageQuery();var r=this;return this.page.load(e,t).then(function(e){return Promise.resolve(d.call(r,e))})},resetPageQuery:function(){return this.resetQueryFlag?(this.resetQueryFlag=!1,this.page.setQuery(this.getPageQuery()),this):this}},d=function(e){for(var t,r=[],n=c[this.timeFilterType[0]],i=0,o=e.length;i<o;i++){if(t=e[i].toJSON(),!1!==this.timeFilters)for(var a in t.score=t[n],this.timeFilters)delete t[u[a]],delete t[c[a]];r.push(t)}return r},y=h,g=function(e){return this.getMyRecordQuery(e).find().then(function(e){var t=e[0];return t&&(t=t.toJSON()),Promise.resolve(t)})},v=r(119),m=function(e,t){var r={item:void 0,index:void 0},n=0;return Object(v.a)({query:e,forEachPageCallback:function(e){for(var i,o=0,a=e.length;o<a;o++)if(i=e[o],t(i))return r.item=i,r.index=n+o,!0;n+=e.length},resolveCallback:function(){return r}})},p=function(e){void 0===e&&(e=this.userID);var t=this.getPageQuery();return m(t,function(t){return t.get("userID")===e}).then(function(t){return Promise.resolve({userID:e,rank:t.index})})},b=r(116),P={deleteUser:function(e){void 0===e&&(e=this.userID);var t=this.getRecordQuery(void 0,void 0,e,void 0);return Object(b.a)(t)},deleteBoard:function(e,t){void 0===e&&(e=this.boardID),void 0===t&&(t=this.tag);var r=this.getRecordQuery(e,t,void 0,void 0);return Object(b.a)(r)}},I={getRecordQuery:function(e,t,r,n){var i=this.baseQuery;return i=void 0!==e?i.equalTo("boardID",e):i,i=void 0!==t?i.equalTo("tag",t):i,i=void 0!==r?i.equalTo("userID",r):i,void 0!==n&&(i=i.equalTo(n[0],n[1])),i},getMyRecordQuery:function(e){return void 0===e&&(e=this.userID),this.getRecordQuery(this.boardID,this.tag,e,void 0).limit(1)},getPageQuery:function(){var e,t;if(!1!==this.timeFilters){var r=this.timeFilterType[0];e=[u[r],s()[r]],t=c[r]}else e=void 0,t="score";var n=this.getRecordQuery(this.boardID,this.tag,void 0,e);return n=n.descending(t)}},w=r(75);function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var j=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.setClassName(i()(t,"className","Item")),this.userInfo={userID:void 0,userName:void 0},this.setUser(i()(t,"userID",""),i()(t,"userName",void 0)),this.setBoardID(i()(t,"boardID",void 0)),this.setTag(i()(t,"tag",void 0)),this.setTimeFilters(i()(t,"timeFilters",!1)),this.setTimeFilterType(i()(t,"timeFilterType","year")),this.page=new w.a({itemCount:i()(t,"pageItemCount",100)}),this.resetQueryFlag=!0}var t,r,n;return t=e,(r=[{key:"shutdown",value:function(){}},{key:"destroy",value:function(){this.shutdown()}},{key:"setClassName",value:function(e){return this.resetQueryFlag=!0,this.customClass=Parse.Object.extend(e),this}},{key:"setUser",value:function(e,t){return a()(e)?this.userInfo=e:(this.userID=e,this.userName=t),this}},{key:"setBoardID",value:function(e){return this.resetQueryFlag|=this.boardID!==e,this.boardID=e,this}},{key:"setTag",value:function(e){return this.resetQueryFlag|=this.tag!==e,this.tag=e,this}},{key:"setTimeFilters",value:function(e){return this.timeFilters=!1!==e&&{d:i()(e,"day",!0),w:i()(e,"week",!0),m:i()(e,"month",!0),y:i()(e,"year",!0)},this}},{key:"setTimeFilterType",value:function(e){return this.resetQueryFlag|=this.timeFilterType!==e,this.timeFilterType=e,this}},{key:"setPageItemCount",value:function(e){return this.page.setItemCount(e),this}},{key:"userID",get:function(){return this.userInfo.userID},set:function(e){this.userInfo.userID=e}},{key:"userName",get:function(){return this.userInfo.userName},set:function(e){this.userInfo.userName=e}},{key:"baseQuery",get:function(){return new Parse.Query(this.customClass)}},{key:"pageIndex",get:function(){return this.page.pageIndex}},{key:"isFirstPage",get:function(){return 0===this.page.pageIndex}},{key:"isLastPage",get:function(){return!1===this.page.isFullPage}}])&&O(t.prototype,r),n&&O(t,n),e}(),C={post:f,getScore:g,getRank:p};Object.assign(j.prototype,C,I,y,P);var x=j,k=r(70),Q=r(6);k.a.register("leaderBoard",function(e){return new x(e)}),Object(Q.a)(window,"RexPlugins.Parse.Leaderboard",x)},199:function(e,t,r){"use strict";var n=r(1),i=r.n(n),o=r(75),a=function(e){for(var t,r,n=this.baseQuery,i=e instanceof this.customClass,o=0,a=this.primaryKeys.length;o<a;o++)t=this.primaryKeys[o],r=i?e.get(t):e[t],n.equalTo(t,r);return n},s=r(62),u=r(51),c=r.n(u),l={loadItem:function(e,t){if("string"==typeof e){var r=this.baseQuery;return t&&(r=r.select(t)),r.get(e)}r=this.getQuery(e).limit(1);return t&&(r=r.select(t)),r.find().then(function(e){return Promise.resolve(e[0])})},loadPage:function(e){return this.pageLoader.loadPage(e)},loadCurrentPage:function(){return this.pageLoader.loadCurrentPage()},loadNextPage:function(){return this.pageLoader.loadNextPage()},loadPreviousPage:function(){return this.pageLoader.loadPreviousPage()},loadItems:function(e,t){return this.pageLoader.loadItems(e,t)},load:function(e){return void 0===e&&(e=this.baseQuery),Object(s.a)(e)},loadRandomItems:function(e,t){"number"==typeof e&&(t=e,e=void 0),void 0===e&&(e=this.baseQuery),void 0===t&&(t=1),e.select("id");var r=this;return Object(s.a)(e).then(function(n){c()(n),t=Math.min(t,n.length);for(var i=[],o=0;o<t;o++)i.push(n[o].id);return e=r.baseQuery.containedIn("objectId",i),Object(s.a)(e)})}},f=r(116),h={deleteItem:function(e){return this.createItem().set("id",e).destroy()},delete:function(e){return void 0===e&&(e=this.baseQuery),Object(f.a)(e)}},d=r(46),y=r(8),g=r(85),v=function(e,t,r){if(!t&&!r)return e;var n=Parse.User.current();if(!n)return e;var i=new Parse.ACL(n);return r||i.setPublicWriteAccess(!0),t||i.setPublicReadAccess(!0),e.setACL(i),e},m=function(e){if(Object(y.a)(e))return this.saveItems(e);var t=this;return new Promise(function(r,n){if(!(t.primaryKeys.length>0))return r();t.loadItem(e,"id").then(r,n)}).then(function(r){return r=Object(g.a)(e,t.customClass,r),v(r,t.ownerRead,t.ownerWrite),r.save()})},p=function(e){var t=this;return new Promise(function(r,n){var i=[];if(!(t.primaryKeys.length>0)){for(c=0,l=e.length;c<l;c++){var o=Object(g.a)(e[c],t.customClass);v(o,t.ownerRead,t.ownerWrite),i.push(o)}return r(i)}for(var a,s=[],u=function(){var r=e[c];a=t.loadItem(r,"id").then(function(e){e=Object(g.a)(r,t.customClass,e),v(e,t.ownerRead,t.ownerWrite),i.push(e)}),s.push(a)},c=0,l=e.length;c<l;c++)u();Promise.all(s).then(function(){return r(i)}).catch(n)}).then(function(e){return Parse.Object.saveAll(e)})},b=function(e){return void 0===e&&(e=this.baseQuery),e.count()};function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var I=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pageLoader=new o.a,this.setClassName(i()(t,"className","Item")),this.setItemCount(i()(t,"itemCount",100)),this.setQuery(),this.primaryKeys=[];var r=i()(t,"primaryKeys",void 0);r&&this.setPrimaryKey(r),this.setOwnerReadMode(i()(t,"ownerRead",void 0)),this.setOwnerWriteMode(i()(t,"ownerWrite",void 0))}var t,r,n;return t=e,(r=[{key:"setClassName",value:function(e){return this.customClass=Parse.Object.extend(e),this}},{key:"setPrimaryKey",value:function(e){return e?"string"==typeof e?(this.primaryKeys.length=1,this.primaryKeys[0]=e):Object(d.a)(this.primaryKeys,e):this.primaryKeys.length=0,this}},{key:"setOwnerReadMode",value:function(e){return this.ownerRead=e,this}},{key:"setOwnerWriteMode",value:function(e){return this.ownerWrite=e,this}},{key:"createItem",value:function(){return new this.customClass}},{key:"setItemCount",value:function(e){return this.pageLoader.setItemCount(e),this}},{key:"setQuery",value:function(e){return void 0===e&&(e=this.baseQuery),this.pageLoader.setQuery(e),this}},{key:"baseQuery",get:function(){return new Parse.Query(this.customClass)}},{key:"startIndex",get:function(){return this.pageLoader.startIndex}},{key:"pageIndex",get:function(){return this.pageLoader.pageIndex}},{key:"isLastPage",get:function(){return this.pageLoader.isLastPage}}])&&P(t.prototype,r),n&&P(t,n),e}(),w={getQuery:a,save:m,saveItems:p,getItemCount:b};Object.assign(I.prototype,l,h,w);var O=I,j=r(70),C=r(6);j.a.register("itemTable",function(e){return new O(e)}),Object(C.a)(window,"RexPlugins.Parse.ItemTable",O)},238:function(e,t,r){"use strict";r.r(t);var n=r(70),i=r(178),o=(r(190),r(199),r(198),r(179));function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.add=new n.a}var t,r,o;return t=e,(r=[{key:"preload",value:function(e){return Object(i.a)(e)}}])&&a(t.prototype,r),o&&a(t,o),e}(),u={quickLogin:o.a};Object.assign(s.prototype,u),t.default=s},31:function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e){if("object"!==r(e)||e.nodeType||e===e.window)return!1;try{if(e.constructor&&!{}.hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0}},46:function(e,t,r){"use strict";t.a=function(e,t,r,n){void 0===r&&(r=0),void 0===n&&(n=t.length),e.length=n-r;for(var i=0,o=e.length;i<o;i++)e[i]=t[i+r];return e}},51:function(e,t){e.exports=function(e){for(var t=e.length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}},55:function(e,t,r){"use strict";t.a=function(e,t){for(var r=document.getElementsByTagName("script"),n=0,i=r.length;n<i;n++)if(-1!=r[n].src.indexOf(e))return void(t&&t());var o=document.createElement("script");o.setAttribute("src",e),t&&(o.onload=t),document.head.appendChild(o)}},6:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=function(e){return null==e||""===e||0===e.length};t.a=function(e,t,r){if("object"===n(e)){if(i(t)){if(null==r)return;"object"===n(r)&&(e=r)}else{"string"==typeof t&&(t=t.split("."));var o=t.pop();((function(e,t,r){var o=e;if(i(t));else{var a;"string"==typeof t&&(t=t.split("."));for(var s=0,u=t.length;s<u;s++){var c;null!=o[a=t[s]]&&"object"===n(o[a])||(c=s===u-1?void 0===r?{}:r:{},o[a]=c),o=o[a]}}return o})(e,t))[o]=r}return e}}},62:function(e,t,r){"use strict";var n=r(119);function i(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t.a=function(e,t,r){var o=[];return Object(n.a)({query:e,startIndex:t,totalLines:r,forEachPageCallback:function(e){o.push.apply(o,i(e))},resolveCallback:function(){return o}})}},70:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,i=[{key:"register",value:function(t,r){e.prototype[t]=r}}],(r=[{key:"initializeApp",value:function(e){return firebase.initializeApp(e),this}}])&&n(t.prototype,r),i&&n(t,i),e}();t.a=i},75:function(e,t,r){"use strict";var n=r(1),i=r.n(n),o=r(62),a={loadItems:function(e,t){void 0===e&&(e=0),void 0===t&&(t=1/0),this.items.length=0;var r=this;return Object(o.a)(this.query,e,t).then(function(n){return r.items=n,r.startIndex=e,r.pageIndex=Math.floor(e/r.itemCount),r.isFullPage=t===1/0||t===n.length,Promise.resolve(n)}).catch(function(e){return r.isFullPage=!1,Promise.reject(e)})},loadPage:function(e){var t=e*this.itemCount;return this.loadItems(t,this.itemCount)},loadFirstPage:function(){return this.loadItems(0,this.itemCount)},loadCurrentPage:function(){return this.loadItems(this.startIndex,this.itemCount)},loadNextPage:function(){var e=this.startIndex+this.itemCount;return this.loadItems(e,this.itemCount)},loadPreviousPage:function(){var e=this.startIndex-this.itemCount;return this.loadItems(e,this.itemCount)}};function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.items=[],this.startIndex=0,this.pageIndex=0,this.isFullPage=!1,this.setItemCount(i()(t,"itemCount",100)),this.setQuery(i()(t,"query",void 0))}var t,r,n;return t=e,(r=[{key:"setItemCount",value:function(e){return this.itemCount=e,this.pageIndex=Math.floor(this.startIndex/e),this}},{key:"setQuery",value:function(e){return this.query=e,this}},{key:"getItem",value:function(e){return this.items[e-this.startIndex]}},{key:"findFirst",value:function(e,t){for(var r,n=this.items.length;r<n;r++)if(this.items[r].get(e)===t)return r+this.startIndex;return-1}}])&&s(t.prototype,r),n&&s(t,n),e}();Object.assign(u.prototype,a);t.a=u},8:function(e,t,r){"use strict";t.a=function(e){return"[object Array]"===Object.prototype.toString.call(e)}},85:function(e,t,r){"use strict";t.a=function(e,t,r){return r||(r=new t),r.set(e),r}},93:function(e,t,r){"use strict";var n=r(55);t.a=function(e){return new Promise(function(t,r){Object(n.a)(e,t)})}}}).default});