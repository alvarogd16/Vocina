!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.rexgridalignplugin=e():t.rexgridalignplugin=e()}(window,function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=257)}({0:function(t,e,i){"use strict";i.d(e,"b",function(){return n}),i.d(e,"a",function(){return r});var n=function(t){return void 0!==t.displayWidth?t.displayWidth:t.width},r=function(t){return void 0!==t.displayHeight?t.displayHeight:t.height}},1:function(t,e){t.exports=function(t,e,i){if(t&&"number"!=typeof t){if(t.hasOwnProperty(e))return t[e];if(-1!==e.indexOf(".")){for(var n=e.split("."),r=t,o=i,u=0;u<n.length;u++){if(!r.hasOwnProperty(n[u])){o=i;break}o=r[n[u]],r=r[n[u]]}return o}return i}return i}},13:function(t,e,i){"use strict";e.a=function(){}},130:function(t,e,i){"use strict";var n=Math.sqrt(3);e.a=function(t){return 0===t.type?2*t.size:n*t.size}},131:function(t,e,i){"use strict";var n=Math.sqrt(3);e.a=function(t){return 0===t.type?n*t.size:2*t.size}},180:function(t,e,i){"use strict";var n=i(130),r=i(131),o=i(40),u=o.a.ODD_R,s=o.a.EVEN_R,a=o.a.ODD_Q,c=o.a.EVEN_Q,h={},f=function(t,e,i){void 0===i?i={}:!0===i&&(i=h);var n=t*this.width,r=e*this.height;switch(this.mode){case u:1&e&&(n+=this._halfWidth),r*=.75;break;case s:1&e&&(n-=this._halfWidth),r*=.75;break;case a:n*=.75,1&t&&(r+=this._halfHeight);break;case c:n*=.75,1&t&&(r-=this._halfHeight)}return n+=this.x,r+=this.y,i.x=n,i.y=r,i},l=function(t,e){return this.getWorldXY(t,e,!0).x},d=function(t,e){return this.getWorldXY(t,e,!0).y},g=i(45),y=o.a.ODD_R,v=o.a.EVEN_R,b=o.a.ODD_Q,p=o.a.EVEN_Q,O={},T={},_=function(t,e,i){var n,r;switch(void 0===i?i={}:!0===i&&(i=T),t-=this.x,e-=this.y,this.mode){case y:case v:r=e*(4/3)/this.height,n=t/this.width-2/3*(e/this.height);break;case b:case p:r=e/this.height-2/3*(t/this.width),n=t*(4/3)/this.width}var o=Object(g.c)(n,r,O);return Object(g.d)(o),Object(g.b)(this.mode,o.x,o.y,o.z,i),i},x=function(t,e){return this.getTileXY(t,e,!0).x},E=function(t,e){return this.getTileXY(t,e,!0).y},w=i(1),j=i.n(w);function k(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var m=o.a.ODD_R,P=o.a.EVEN_R,R=o.a.ODD_Q,M=o.a.EVEN_Q,z=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resetFromJSON(e)}var e,i,o;return e=t,(i=[{key:"resetFromJSON",value:function(t){if(this.setType(j()(t,"staggeraxis",1),j()(t,"staggerindex",1)),this.setDirectionMode(),this.setOriginPosition(j()(t,"x",0),j()(t,"y",0)),this.size=j()(t,"size",void 0),void 0!==this.size){var e={size:this.size,type:this.staggeraxis},i=Object(n.a)(e),o=Object(r.a)(e);this.setCellSize(i,o)}else this.setCellSize(j()(t,"cellWidth",0),j()(t,"cellHeight",0))}},{key:"setType",value:function(t,e){return"string"==typeof t&&(t=N[t]),"string"==typeof e&&(e=S[e]),this.staggeraxis=t,this.staggerindex=e,this.mode=0===t?0===e?M:R:0===e?P:m,this}},{key:"setDirectionMode",value:function(){return this.directions=6,this}},{key:"setOriginPosition",value:function(t,e){return this.x=t,this.y=e,this}},{key:"setCellSize",value:function(t,e){return this.width=t,this.height=e,this}},{key:"width",get:function(){return this._width},set:function(t){this._width=t,this._halfWidth=t/2}},{key:"height",get:function(){return this._height},set:function(t){this._height=t,this._halfHeight=t/2}},{key:"cellWidth",get:function(){return this.width},set:function(t){this.width=t}},{key:"cellHeight",get:function(){return this.height}},{key:"cellHieght",set:function(t){this.height=t}}])&&k(e.prototype,i),o&&k(e,o),t}(),D={getWorldXY:f,getWorldX:l,getWorldY:d,getTileXY:_,getTileX:x,getTileY:E};Object.assign(z.prototype,D);var N={y:0,x:1},S={even:0,odd:1};e.a=z},181:function(t,e,i){"use strict";var n={},r=function(t,e,i){var r,o;switch(void 0===i?i={}:!0===i&&(i=n),this.mode){case 0:r=t*this.width,o=e*this.height;break;case 1:r=(t-e)*this._halfWidth,o=(t+e)*this._halfHeight}return r+=this.x,o+=this.y,i.x=r,i.y=o,i},o=function(t,e){return this.getWorldXY(t,e,!0).x},u=function(t,e){return this.getWorldXY(t,e,!0).y},s={},a=function(t,e,i){void 0===i?i={}:!0===i&&(i=s),t-=this.x,e-=this.y;var n=t/this.width,r=e/this.height;switch(this.mode){case 0:i.x=Math.round(n),i.y=Math.round(r);break;case 1:i.x=Math.round(+n+r),i.y=Math.round(-n+r)}return i},c=function(t,e){return this.getTileXY(t,e,!0).x},h=function(t,e){return this.getTileXY(t,e,!0).y},f=i(1),l=i.n(f);function d(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var g=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resetFromJSON(e)}var e,i,n;return e=t,(i=[{key:"resetFromJSON",value:function(t){this.setType(l()(t,"type",0)),this.setDirectionMode(l()(t,"dir",4)),this.setOriginPosition(l()(t,"x",0),l()(t,"y",0)),this.setCellSize(l()(t,"cellWidth",0),l()(t,"cellHeight",0))}},{key:"setType",value:function(t){return"string"==typeof t&&(t=v[t]),this.mode=t,this}},{key:"setDirectionMode",value:function(t){return"string"==typeof t&&(t=b[t]),this.directions=t,this}},{key:"setOriginPosition",value:function(t,e){return this.x=t,this.y=e,this}},{key:"setCellSize",value:function(t,e){return this.width=t,this.height=e,this}},{key:"width",get:function(){return this._width},set:function(t){this._width=t,this._halfWidth=t/2}},{key:"height",get:function(){return this._height},set:function(t){this._height=t,this._halfHeight=t/2}},{key:"cellWidth",get:function(){return this.width},set:function(t){this.width=t}},{key:"cellHeight",get:function(){return this.height}},{key:"cellHieght",set:function(t){this.height=t}}])&&d(e.prototype,i),n&&d(e,n),t}(),y={getWorldXY:r,getWorldX:o,getWorldY:u,getTileXY:a,getTileX:c,getTileY:h};Object.assign(g.prototype,y);var v={orthogonal:0,isometric:1,staggered:2},b={"4dir":4,"8dir":8};e.a=g},257:function(t,e,i){"use strict";i.r(e);var n=i(180),r=i(5),o=i(9),u=Phaser.Utils.Objects.GetFastValue,s=new n.a,a=function(t,e){void 0===e&&(e={});var i=u(e,"width",-1),n=u(e,"height",-1),a=u(e,"cellWidth",1),c=u(e,"cellHeight",a),h=u(e,"staggeraxis",1),f=u(e,"staggerindex",1),l=u(e,"position",Phaser.Display.Align.CENTER),d=u(e,"x",0),g=u(e,"y",0);s.setOriginPosition(d,g).setCellSize(a,c).setType(h,f),r.a.setSize(a,c);for(var y=n-1,v=i-1,b=0,p=0,O=0,T=t.length;O<T;O++)if(s.getWorldXY(p,b,r.a),Object(o.a)(t[O],r.a,l),-1===i)b++;else if(-1===n)p++;else if(p===v){if(b===y)break;p=0,b++}else p++;return t},c=i(181),h=Phaser.Utils.Objects.GetFastValue,f=new c.a,l=function(t,e){void 0===e&&(e={});var i=h(e,"width",-1),n=h(e,"height",-1),u=h(e,"cellWidth",1),s=h(e,"cellHeight",u),a=h(e,"type",0),c=h(e,"position",Phaser.Display.Align.CENTER),l=h(e,"x",0),d=h(e,"y",0);f.setOriginPosition(l,d).setCellSize(u,s).setType(a),r.a.setSize(u,s);for(var g=n-1,y=i-1,v=0,b=0,p=0,O=t.length;p<O;p++)if(f.getWorldXY(b,v,r.a),Object(o.a)(t[p],r.a,c),-1===i)v++;else if(-1===n)b++;else if(b===y){if(v===g)break;b=0,v++}else b++;return t};function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function y(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),y(this,v(e).call(this,t))}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(e,Phaser.Plugins.BasePlugin),i=e,(n=[{key:"start",value:function(){this.game.events.on("destroy",this.destroy,this)}},{key:"hexagon",value:function(t,e){return a(t,e)}},{key:"quad",value:function(t,e){return l(t,e)}}])&&g(i.prototype,n),r&&g(i,r),e}();e.default=p},40:function(t,e,i){"use strict";e.a={ODD_R:0,EVEN_R:1,ODD_Q:2,EVEN_Q:3}},45:function(t,e,i){"use strict";i.d(e,"a",function(){return a}),i.d(e,"d",function(){return c}),i.d(e,"b",function(){return h}),i.d(e,"c",function(){return f});var n=i(40),r=n.a.ODD_R,o=n.a.EVEN_R,u=n.a.ODD_Q,s=n.a.EVEN_Q,a=function(t,e,i,n){switch(void 0===n?n={}:!0===n&&(n=l),t){case r:n.x=e-(i-(1&i))/2,n.z=i;break;case o:n.x=e-(i+(1&i))/2,n.z=i;break;case u:n.x=e,n.z=i-(e-(1&e))/2;break;case s:n.x=e,n.z=i-(e+(1&e))/2}return n.y=-n.x-n.z,n},c=function(t,e,i,n){"number"!=typeof t&&(t=(n=t).x,e=n.y,i=n.z),void 0===n?n={}:!0===n&&(n=l);var r=Math.round(t),o=Math.round(e),u=Math.round(i),s=Math.abs(r-t),a=Math.abs(o-e),c=Math.abs(u-i);return s>a&&s>c?r=-o-u:a>c?o=-r-u:u=-r-o,n.x=r,n.y=o,n.z=u,n},h=function(t,e,i,n,a){switch(void 0===a?a={}:!0===a&&(a=d),t){case r:a.x=e+(n-(1&n))/2,a.y=n;break;case o:a.x=e+(n+(1&n))/2,a.y=n;break;case u:a.x=e,a.y=n+(e-(1&e))/2;break;case s:a.x=e,a.y=n+(e+(1&e))/2}return a},f=function(t,e,i){return void 0===i?i={}:!0===i&&(i=l),i.x=t,i.y=-t-e,i.z=e,i},l={},d={}},5:function(t,e,i){"use strict";var n=i(13),r=new Phaser.GameObjects.Zone({sys:{queueDepthSort:n.a,events:{once:n.a}}},0,0,1,1);r.setOrigin(0),e.a=r},9:function(t,e,i){"use strict";var n={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12},r=i(0),o=function(t){var e=Object(r.a)(t);return t.y+e-e*t.originY},u=function(t){var e=Object(r.b)(t);return t.x-e*t.originX+.5*e},s=function(t,e){var i=Object(r.a)(t);return t.y=e-i+i*t.originY,t},a=function(t,e){var i=Object(r.b)(t),n=i*t.originX;return t.x=e+n-.5*i,t},c=function(t,e,i,n){return void 0===i&&(i=0),void 0===n&&(n=0),a(t,u(e)+i),s(t,o(e)+n),t},h=function(t){var e=Object(r.b)(t);return t.x-e*t.originX},f=function(t,e){var i=Object(r.b)(t);return t.x=e+i*t.originX,t},l=function(t,e,i,n){return void 0===i&&(i=0),void 0===n&&(n=0),f(t,h(e)-i),s(t,o(e)+n),t},d=function(t){var e=Object(r.b)(t);return t.x+e-e*t.originX},g=function(t,e){var i=Object(r.b)(t);return t.x=e-i+i*t.originX,t},y=function(t,e,i,n){return void 0===i&&(i=0),void 0===n&&(n=0),g(t,d(e)+i),s(t,o(e)+n),t},v=function(t,e){var i=Object(r.a)(t),n=i*t.originY;return t.y=e+n-.5*i,t},b=function(t,e,i){return a(t,e),v(t,i)},p=function(t){var e=Object(r.a)(t);return t.y-e*t.originY+.5*e},O=function(t,e,i,n){return void 0===i&&(i=0),void 0===n&&(n=0),b(t,u(e)+i,p(e)+n),t},T=function(t,e,i,n){return void 0===i&&(i=0),void 0===n&&(n=0),f(t,h(e)-i),v(t,p(e)+n),t},_=function(t,e,i,n){return void 0===i&&(i=0),void 0===n&&(n=0),g(t,d(e)+i),v(t,p(e)+n),t},x=function(t){var e=Object(r.a)(t);return t.y-e*t.originY},E=function(t,e){var i=Object(r.a)(t);return t.y=e+i*t.originY,t},w=function(t,e,i,n){return void 0===i&&(i=0),void 0===n&&(n=0),a(t,u(e)+i),E(t,x(e)-n),t},j=function(t,e,i,n){return void 0===i&&(i=0),void 0===n&&(n=0),f(t,h(e)-i),E(t,x(e)-n),t},k=function(t,e,i,n){return void 0===i&&(i=0),void 0===n&&(n=0),g(t,d(e)+i),E(t,x(e)-n),t},m=[];m[n.BOTTOM_CENTER]=c,m[n.BOTTOM_LEFT]=l,m[n.BOTTOM_RIGHT]=y,m[n.CENTER]=O,m[n.LEFT_CENTER]=T,m[n.RIGHT_CENTER]=_,m[n.TOP_CENTER]=w,m[n.TOP_LEFT]=j,m[n.TOP_RIGHT]=k;e.a=function(t,e,i,n,r){return m[i](t,e,n,r)}}}).default});