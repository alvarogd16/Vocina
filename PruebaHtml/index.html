<!DOCTYPE html>
<html lang="es">
<head>
    <!--Por defecto en Html-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Vocina</title>

    <!--Linkeo de archivos-->
    <script src="lib/codemirror.js"></script>
	<link rel="stylesheet" href="lib/codemirror.css">
	<script src="mode/javascript/javascript.js"></script>
</head>

<!--Tres partes de body-->
<body style="background-color: rgb(59, 59, 59);">

    <!--Parte donde habla el personaje (No tiene nada dentro todavia)-->
    <div style="height: 25vh; width: 100%;"></div>

    <!--Parte donde se escribe el codigo con CodeMirror-->
    <textarea id="code" style="height: 25vh;"></textarea>   
    
    <!--Parte donde ocurre el juego (Pixijs)-->
    <div id="game-area">
        <!--Parte provisional para ver como quedaria-->
        <canvas id="game-canvas" style="background-color: black;"></canvas>
    </div>

	<script>
        //Se crea el editor de codigo con varias opciones 
        var editor = CodeMirror.fromTextArea(document.getElementById('code'), {
            lineNumbers: true,  //Incluye los numeros de linea
            theme: "ambiance",  //El tema de fondo
            lineWrapping: true, //Cuando acabas una linea salta a la siguiente
            //readOnly: true    //Modo de solo lectura
            undoDepth: 20       //Maximo numero de lineas en las que puedes escribir
        })
        editor.setValue("//¿Estás preparado?")  //Valor que se muestra por defecto

        /*Oculta y muestra el editor*/  //No es realmente necesario solo estaba probando
        function ocultar(){
            let x = editor.getWrapperElement()
            if(x.style.visibility === "hidden" || x.style.visibility === "initial")
                x.style.visibility = "visible"
            else {
                x.style.visibility = "hidden"
            }
        }

        //Funcion para probar un boton 
        function boton(estado){
            estado ? console.log("Encendido") : console.log("Apagado")
        }

        //Parte de abajo que controla el canvas 
        //Esto despues se hace con Pixijs
        let canvas = document.getElementById("game-canvas")
        if(canvas.getContext){
            let ctx = canvas.getContext('2d')

            let partes = 6  //Numero de divisiones de las lineas para ver como quedaba
            let tam_divisionW = canvas.width/partes
            let tam_divisionH = canvas.height/partes
            ctx.setLineDash([2,2])

            //Dibujo todas las lineas
            for(let i = 1; i < partes; i++){
                ctx.moveTo(i*tam_divisionW, 0)
                ctx.lineTo(i*tam_divisionW, canvas.height)

                ctx.moveTo(0, i*tam_divisionH)
                ctx.lineTo(canvas.width, i*tam_divisionH)
            }
            ctx.strokeStyle = 'white'
            ctx.stroke()
        }

	</script>
</body>
</html>