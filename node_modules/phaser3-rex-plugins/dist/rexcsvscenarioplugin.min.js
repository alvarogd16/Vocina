!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.rexcsvscenarioplugin=e():t.rexcsvscenarioplugin=e()}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=244)}({1:function(t,e){t.exports=function(t,e,n){if(t&&"number"!=typeof t){if(t.hasOwnProperty(e))return t[e];if(-1!==e.indexOf(".")){for(var r=e.split("."),i=t,o=n,s=0;s<r.length;s++){if(!i.hasOwnProperty(r[s])){o=n;break}o=i[r[s]],i=i[r[s]]}return o}return n}return n}},14:function(t,e,n){"use strict";e.a=function(t){if(Array.isArray(t))t.length=0;else for(var e in t)delete t[e]}},22:function(t,e,n){"use strict";var r=n(14);e.a=function(t,e){var n=Array.isArray(t);if(void 0===e?e=n?[]:{}:Object(r.a)(e),n){e.length=t.length;for(var i=0,o=t.length;i<o;i++)e[i]=t[i]}else for(var s in t)e[s]=t[s];return e}},244:function(t,e,n){"use strict";n.r(e);var r=n(3),i=n(1),o=n.n(i),s=n(60),a=n.n(s),u=n(22),c=n(14);function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var f=Phaser.Utils.Objects.GetValue,h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scenario=e,this.queue=[],this.currentIdx=-1,this.nextIdx=0}var e,n,r;return e=t,(n=[{key:"resetFromJSON",value:function(t){var e=f(t,"queue",void 0);return void 0===e?Object(c.a)(this.queue):Object(u.a)(e,this.queue),this.currentIdx=f(t,"curIdx",-1),this.nextIdx=f(t,"nextIdx",0),this}},{key:"clear",value:function(){return this.currentIdx=-1,this.nextIdx=0,this.queue.length=0,this}},{key:"append",value:function(t){return this.queue.push(t),this}},{key:"setNextIndex",value:function(t){return void 0===t&&(t=this.currentIdx+1),this.nextIdx=t,this}},{key:"get",value:function(t){return void 0===t&&(t=this.nextIdx),this.currentIdx=t,this.queue[t]}},{key:"length",get:function(){return this.queue.length}}])&&l(e.prototype,n),r&&l(e,r),t}();function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var d=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scenario=e,this.type=n}var e,n,r;return e=t,(n=[{key:"resetFromJSON",value:function(t){}},{key:"toJSON",value:function(){return{}}},{key:"parse",value:function(t,e){return t}},{key:"run",value:function(t){}}])&&p(e.prototype,n),r&&p(e,r),t}(),y=n(69),m=n(50);function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e){return!e||"object"!==v(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var w=Phaser.Utils.Array.SpliceOne,O=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=g(this,_(e).call(this,t,"-"))).task=void 0,n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(e,d),n=e,(r=[{key:"resetFromJSON",value:function(t){this.task&&(this.task.off("complete",this.resume,this),this.task=void 0)}},{key:"parse",value:function(t,e){var n=w(t,0),r=this.scenario,i=r.argsConvert,o=r.argsConvertScope;if(i){!0===i&&(i=m.a,o=void 0);for(var s=1,a=t.length;s<a;s++)t[s]=o?i.call(o,t[s],t):i(t[s],t)}return t=[n,t]}},{key:"run",value:function(t){var e=this.scenario,n=Object(y.a)(t[1],e.scope);n&&"function"==typeof n.once?(n.once("complete",this.resume,this),this.pause(),this.task=n):this.task=void 0}},{key:"pause",value:function(){this.scenario.pause()}},{key:"resume",value:function(){this.task=void 0;var t=this.scenario;t.resume(),t.runNextCmd()}}])&&b(n.prototype,r),i&&b(n,i),e}();function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function C(t,e){return!e||"object"!==E(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var j=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),C(this,x(e).call(this,t,"wait"))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(e,d),n=e,(r=[{key:"parse",value:function(t,e){t.length=2;var n=this.getEventName(t);return isNaN(n)||(t[1]=parseFloat(n)),t}},{key:"run",value:function(t){var e=this.getEventName(t);"number"==typeof e?this.waitTime(e):this.waitEvent(e)}},{key:"waitTime",value:function(t){t>this.scenario.offset?(t-=this.scenario.offset,this.scenario.offset=0,this.scenario.isDebugMode&&this.scenario.log("#WAIT: "+t),this.scenario.wait(t)):this.scenario.offset-=t}},{key:"waitEvent",value:function(t){this.scenario.isDebugMode&&this.scenario.log("#WAIT: "+t),this.scenario.wait(t)}},{key:"getEventName",value:function(t){var e=t[1];return null==e&&(e="",t[1]=e),e}}])&&S(n.prototype,r),i&&S(n,i),e}();function R(t){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function T(t,e){return!e||"object"!==R(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function I(t){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function A(t,e){return(A=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var N=Phaser.Utils.Objects.GetValue,D=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=T(this,I(e).call(this,t,"label"))).labels={},n.prevLabel="",n.lastLabel="",n}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A(t,e)}(e,d),n=e,(r=[{key:"resetFromJSON",value:function(t){this.prevLabel=N(t,"preLabel",""),this.lastLabel=N(t,"lastLabel","");var e=N(t,"labels",void 0);void 0===e?Object(c.a)(this.labels):Object(u.a)(e,this.labels)}},{key:"toJSON",value:function(){return{preLabel:this.prevLabel,lastLabel:this.lastLabel,labels:this.labels}}},{key:"parse",value:function(t,e){t.length=2;var n=this.getLabel(t);return this.addLabel(n,e),t}},{key:"run",value:function(t){var e=this.getLabel(t);this.scenario.isDebugMode&&this.scenario.log("#LABEL: "+e),this.prevLabel=this.lastLabel,this.lastLabel=e;var n=this.scenario;n.emit("labelchange",this.lastLabel,this.prevLabel,n)}},{key:"getLabel",value:function(t){var e=t[1];return null==e&&(e="",t[1]=e),e}},{key:"addLabel",value:function(t,e){this.labels[t]=e}},{key:"getIndex",value:function(t){return""!==t&&this.hasLabel(t)?this.labels[t]:0}},{key:"hasLabel",value:function(t){return this.labels.hasOwnProperty(t)}}])&&L(n.prototype,r),i&&L(n,i),e}();function M(t){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function U(t,e){return!e||"object"!==M(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function z(t){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function J(t,e){return(J=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var q=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),U(this,z(e).call(this,t,"exit"))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&J(t,e)}(e,d),n=e,(r=[{key:"parse",value:function(t,e){return t.length=1,t}},{key:"run",value:function(t){this.scenario.log("#EXIT"),this.scenario.complete()}}])&&F(n.prototype,r),i&&F(n,i),e}();function H(t){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function W(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function K(t,e){return!e||"object"!==H(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function B(t){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function G(t,e){return(G=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Q=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),K(this,B(e).call(this,t,"goto"))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G(t,e)}(e,d),n=e,(r=[{key:"parse",value:function(t,e){return t.length=2,t}},{key:"run",value:function(t){var e=this.getLabel(t);this.scenario.isDebugMode&&this.scenario.log("#GOTO label: "+e),this.scenario.goto(e)}},{key:"getLabel",value:function(t){var e=t[1];return null==e&&(e="",t[1]=e),e}}])&&W(n.prototype,r),i&&W(n,i),e}();function V(t){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Z(t,e){return!e||"object"!==V(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Y(t){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function X(t,e){return(X=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var tt=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Z(this,Y(e).call(this,t,"if"))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&X(t,e)}(e,d),n=e,(r=[{key:"parse",value:function(t,e){t.length=4;var n="("+this.getCond(t)+")";return t[1]=new Function("return "+n),t}},{key:"run",value:function(t){var e=this.getCond(t).call(this.scenario.scope),n=e?this.getTrueLabel(t):this.getFalseLabel(t);""!==n&&(this.scenario.isDebugMode&&this.scenario.log("#IF "+e+"- GOTO label: "+n),this.scenario.goto(n))}},{key:"getCond",value:function(t){var e=t[1];return null!=e&&""!==e||(e="true",t[1]=e),e}},{key:"getTrueLabel",value:function(t){var e=t[2];return null==e&&(e="",t[2]=e),e}},{key:"getFalseLabel",value:function(t){var e=t[3];return null==e&&(e="",t[3]=e),e}}])&&$(n.prototype,r),i&&$(n,i),e}();function et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var nt=Phaser.Utils.Objects.GetValue,rt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cmds={"-":new O(e),wait:new j(e),label:new D(e),exit:new q(e),goto:new Q(e),if:new tt(e)}}var e,n,r;return e=t,(n=[{key:"resetFromJSON",value:function(t){for(var e in this.cmds)this.cmds[e].resetFromJSON(nt(t,e,void 0));return this}},{key:"toJSON",value:function(){var t={};for(var e in this.cmds)t[e]=this.cmds[e].toJSON();return t}},{key:"get",value:function(t){return this.cmds[t]}},{key:"isValidCmdName",value:function(t){return this.cmds.hasOwnProperty(t)}}])&&et(e.prototype,n),r&&et(e,r),t}();function it(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ot=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.setEventEmitter(o()(n,"eventEmitter",void 0)),this.scene=e,this.timer=void 0,this.instMem=new h(this),this.cmdHandlers=new rt(this),this.resetFromJSON(n),this.boot()}var e,n,r;return e=t,(n=[{key:"resetFromJSON",value:function(t){return this._inRunCmdLoop=!1,this.isRunning=o()(t,"state",!1),this.isPaused=o()(t,"pause",!1),this.waitEvent=o()(t,"wait",void 0),this.scope=o()(t,"scope",void 0),this.timeUnit=o()(t,"timeUnit",0),this.cmdPrefix=o()(t,"prefix",at),this.argsConvert=o()(t,"argsConvert",!0),this.argsConvertScope=o()(t,"argsConvertScope",void 0),this.cmdHandlers.resetFromJSON(o()(t,"handlers",void 0)),this.instMem.resetFromJSON(o()(t,"instMem",void 0)),this}},{key:"toJSON",value:function(){return{state:this.isRunning,pause:this.isPaused,wait:this.waitEvent,scope:this.scope,timeUnit:this.timeUnit,prefix:this.cmdPrefix,argsConvert:this.argsConvert,argsConvertScope:this.argsConvertScope,handlers:this.cmdHandlers.toJSON(),instMem:this.instMem.toJSON()}}},{key:"boot",value:function(){this.scene.events.once("shutdown",this.destroy,this)}},{key:"shutdown",value:function(){this.destroyEventEmitter(),this.clear(),this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"load",value:function(t,e,n){return this.clear(),this.timeUnit=o()(n,"timeUnit",this.timeUnit),"string"==typeof this.timeUnit&&(this.timeUnit=st[this.timeUnit]),this.cmdPrefix=o()(n,"prefix",this.cmdPrefix),"string"==typeof this.cmdPrefix&&(this.cmdPrefix=new RegExp(this.cmdPrefix)),this.argsConvert=o()(n,"argsConvert",this.argsConvert),this.argsConvertScope=o()(n,"argsConvertScope",this.argsConvertScope),this.scope=e,this.append(t),this}},{key:"clear",value:function(){this.stop(),this.instMem.resetFromJSON(),this.cmdHandlers.resetFromJSON()}},{key:"start",value:function(t){this.stop();var e=o()(t,"label","");return this.offset=o()(t,"offset",0),this.isDebugMode&&this.log("Start at Label: "+e),!!this.goto(e)&&(this.isRunning=!0,this.runNextCmd(),!0)}},{key:"getIndex",value:function(t){var e=this.getCmdHandler("label").getIndex(t);return null==e&&this.error("Label: "+t+" is not found"),e}},{key:"goto",value:function(t){var e;return null!=(e="string"==typeof t?this.getIndex(t):t)&&(this.instMem.setNextIndex(e),!0)}},{key:"wait",value:function(t){if(this.waitEvent=t,"number"==typeof t){var e=t;1===this.timeUnit&&(e*=1e3),this.timer=this.scene.time.delayedCall(e,this.continue,[t],this)}return this}},{key:"stop",value:function(){return this.isRunning?(this.isRunning=!1,this.isPaused=!1,this.waitEvent=void 0,this.timer&&(this.timer.remove(),this.timer=void 0),this):this}},{key:"complete",value:function(){return this.emit("complete",this),this.stop(),this}},{key:"append",value:function(t,e){void 0===e&&(e=",");var n=a.a.parse(t,{delimiter:e}).data;return this.parse(n),this}},{key:"pause",value:function(){return this.isRunning?this.isPaused?this:(this.isPaused=!0,this.timer&&(this.timer.paused=!0),this):this}},{key:"resume",value:function(){return this.isRunning&&this.isPaused?(this.isPaused=!1,this.timer&&(this.timer.paused=!1),this):this}},{key:"continue",value:function(t){return!this.isRunning||this.isPaused||void 0===this.waitEvent?this:(t===this.waitEvent&&(this.timer=void 0,this.waitEvent=void 0,this.runNextCmd()),this)}},{key:"getCmdHandler",value:function(t){return"string"!=typeof t&&(t=t[0]),this.cmdHandlers.get(t)}},{key:"parse",value:function(t){for(var e,n,r=this.cmdPrefix,i=0,o=t.length;i<o;i++)if("-"===(n=(e=t[i])[0]))this.appendCommand(e);else if(isNaN(n))if(r.test(n)){var s=n.match(r);e[0]=s[1].toLowerCase(),this.appendCommand(e)||this.error("Line "+i+": "+JSON.stringify(e)+" is not a valid command")}else this.appendCommand(["wait",n]),e[0]="-",this.appendCommand(e);else{var a=parseFloat(n);a>0&&this.appendCommand(["wait",a]),e[0]="-",this.appendCommand(e)}return this}},{key:"appendCommand",value:function(t){var e=this.getCmdHandler(t);return null!=e&&((t=e.parse(t,this.instMem.length))&&this.instMem.append(t),!0)}},{key:"runNextCmd",value:function(){if(!this._inRunCmdLoop){this.threadId;var t,e=this.instMem;for(this._inRunCmdLoop=!0;this.isRunning&&!this.isPaused&&void 0===this.waitEvent;){if(t=e.get(),e.setNextIndex(),null==t){this.complete();break}this.getCmdHandler(t).run(t)}return this._inRunCmdLoop=!1,this}}},{key:"log",value:function(t){return this.emit("log",t,this),this}},{key:"error",value:function(t){return this.emit("error",t,this),this}},{key:"lastLabel",get:function(){return this.cmdHandlers.labelCmd.lastLabel}},{key:"previousLabel",get:function(){return this.cmdHandlers.labelCmd.preLabel}},{key:"isDebugMode",get:function(){return this.listenerCount("log")>0}}])&&it(e.prototype,n),r&&it(e,r),t}();Object.assign(ot.prototype,r.a);var st={ms:0,s:1,sec:1},at=/^#([a-zA-Z]+)/,ut=ot;function ct(t){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ft(t,e){return!e||"object"!==ct(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ht(t){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function pt(t,e){return(pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var dt=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ft(this,ht(e).call(this,t))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pt(t,e)}(e,Phaser.Plugins.BasePlugin),n=e,(r=[{key:"start",value:function(){this.game.events.on("destroy",this.destroy,this)}},{key:"add",value:function(t,e){return new ut(t,e)}}])&&lt(n.prototype,r),i&&lt(n,i),e}();e.default=dt},3:function(t,e,n){"use strict";e.a={setEventEmitter:function(t,e){return void 0===e&&(e=Phaser.Events.EventEmitter),this._privateEE=void 0===t,this._eventEmitter=this._privateEE?new e:t,this},destroyEventEmitter:function(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter:function(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(t){return this._eventEmitter&&t&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]}}},46:function(t,e,n){"use strict";e.a=function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=e.length),t.length=r-n;for(var i=0,o=t.length;i<o;i++)t[i]=e[i+n];return t}},50:function(t,e,n){"use strict";var r=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i;e.a=function(t){return"string"!=typeof t?t:(""===t?t=null:r.test(t)?t=parseFloat(t):"false"===screen?t=!1:"true"===t&&(t=!0),t)}},60:function(t,e,n){var r,i,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),i=[],void 0===(o="function"==typeof(r=function(){"use strict";var t,e,n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:{},r=!n.document&&!!n.postMessage,i=r&&/(\?|&)papaworker(=|&|$)/.test(n.location.search),o=!1,a={},u=0,c={parse:function(e,r){var i=(r=r||{}).dynamicTyping||!1;if(E(i)&&(r.dynamicTypingFunction=i,i={}),r.dynamicTyping=i,r.transform=!!E(r.transform)&&r.transform,r.worker&&c.WORKERS_SUPPORTED){var s=function(){if(!c.WORKERS_SUPPORTED)return!1;if(!o&&null===c.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var e=c.SCRIPT_PATH||t;e+=(-1!==e.indexOf("?")?"&":"?")+"papaworker";var r=new n.Worker(e);return r.onmessage=g,r.id=u++,a[r.id]=r}();return s.userStep=r.step,s.userChunk=r.chunk,s.userComplete=r.complete,s.userError=r.error,r.step=E(r.step),r.chunk=E(r.chunk),r.complete=E(r.complete),r.error=E(r.error),delete r.worker,void s.postMessage({input:e,config:r,workerId:s.id})}var l=null;return c.NODE_STREAM_INPUT,"string"==typeof e?l=r.download?new h(r):new d(r):!0===e.readable&&E(e.read)&&E(e.on)?l=new y(r):(n.File&&e instanceof File||e instanceof Object)&&(l=new p(r)),l.stream(e)},unparse:function(t,e){var n=!1,r=!0,i=",",o="\r\n",a='"',u=!1;"object"==s(e)&&("string"!=typeof e.delimiter||c.BAD_DELIMITERS.filter(function(t){return-1!==e.delimiter.indexOf(t)}).length||(i=e.delimiter),("boolean"==typeof e.quotes||Array.isArray(e.quotes))&&(n=e.quotes),"boolean"!=typeof e.skipEmptyLines&&"string"!=typeof e.skipEmptyLines||(u=e.skipEmptyLines),"string"==typeof e.newline&&(o=e.newline),"string"==typeof e.quoteChar&&(a=e.quoteChar),"boolean"==typeof e.header&&(r=e.header));var l=new RegExp(v(a),"g");if("string"==typeof t&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return h(null,t,u);if("object"==s(t[0]))return h(f(t[0]),t,u)}else if("object"==s(t))return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:f(t.data[0])),Array.isArray(t.data[0])||"object"==s(t.data[0])||(t.data=[t.data])),h(t.fields||[],t.data||[],u);throw"exception: Unable to serialize unrecognized input";function f(t){if("object"!=s(t))return[];var e=[];for(var n in t)e.push(n);return e}function h(t,e,n){var s="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var a=Array.isArray(t)&&0<t.length,u=!Array.isArray(e[0]);if(a&&r){for(var c=0;c<t.length;c++)0<c&&(s+=i),s+=p(t[c],c);0<e.length&&(s+=o)}for(var l=0;l<e.length;l++){var f=a?t.length:e[l].length,h=!1,d=a?0===Object.keys(e[l]).length:0===e[l].length;if(n&&!a&&(h="greedy"===n?""===e[l].join("").trim():1===e[l].length&&0===e[l][0].length),"greedy"===n&&a){for(var y=[],m=0;m<f;m++){var v=u?t[m]:m;y.push(e[l][v])}h=""===y.join("").trim()}if(!h){for(var b=0;b<f;b++){0<b&&!d&&(s+=i);var g=a&&u?t[b]:b;s+=p(e[l][g],b)}l<e.length-1&&(!n||0<f&&!d)&&(s+=o)}}return s}function p(t,e){if(null==t)return"";if(t.constructor===Date)return JSON.stringify(t).slice(1,25);t=t.toString().replace(l,a+a);var r="boolean"==typeof n&&n||Array.isArray(n)&&n[e]||function(t,e){for(var n=0;n<e.length;n++)if(-1<t.indexOf(e[n]))return!0;return!1}(t,c.BAD_DELIMITERS)||-1<t.indexOf(i)||" "===t.charAt(0)||" "===t.charAt(t.length-1);return r?a+t+a:t}}};if(c.RECORD_SEP=String.fromCharCode(30),c.UNIT_SEP=String.fromCharCode(31),c.BYTE_ORDER_MARK="\ufeff",c.BAD_DELIMITERS=["\r","\n",'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!r&&!!n.Worker,c.SCRIPT_PATH=null,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=b,c.ParserHandle=m,c.NetworkStreamer=h,c.FileStreamer=p,c.StringStreamer=d,c.ReadableStreamStreamer=y,n.jQuery){var l=n.jQuery;l.fn.parse=function(t){var e=t.config||{},r=[];return this.each(function(t){if("INPUT"!==l(this).prop("tagName").toUpperCase()||"file"!==l(this).attr("type").toLowerCase()||!n.FileReader||!this.files||0===this.files.length)return!0;for(var i=0;i<this.files.length;i++)r.push({file:this.files[i],inputElem:this,instanceConfig:l.extend({},e)})}),i(),this;function i(){if(0!==r.length){var e,n,i,a,u=r[0];if(E(t.before)){var f=t.before(u.file,u.inputElem);if("object"==s(f)){if("abort"===f.action)return e="AbortError",n=u.file,i=u.inputElem,a=f.reason,void(E(t.error)&&t.error({name:e},n,i,a));if("skip"===f.action)return void o();"object"==s(f.config)&&(u.instanceConfig=l.extend(u.instanceConfig,f.config))}else if("skip"===f)return void o()}var h=u.instanceConfig.complete;u.instanceConfig.complete=function(t){E(h)&&h(t,u.file,u.inputElem),o()},c.parse(u.file,u.instanceConfig)}else E(t.complete)&&t.complete()}function o(){r.splice(0,1),i()}}}function f(t){this._handle=null,this._finished=!1,this._completed=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var e=w(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new m(e),(this._handle.streamer=this)._config=e}.call(this,t),this.parseChunk=function(t,e){if(this.isFirstChunk&&E(this._config.beforeFirstChunk)){var r=this._config.beforeFirstChunk(t);void 0!==r&&(t=r)}this.isFirstChunk=!1;var o=this._partialLine+t;this._partialLine="";var s=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var a=s.meta.cursor;this._finished||(this._partialLine=o.substring(a-this._baseIndex),this._baseIndex=a),s&&s.data&&(this._rowCount+=s.data.length);var u=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(i)n.postMessage({results:s,workerId:c.WORKER_ID,finished:u});else if(E(this._config.chunk)&&!e){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return;s=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),this._completed||!u||!E(this._config.complete)||s&&s.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),u||s&&s.meta.paused||this._nextChunk(),s}},this._sendError=function(t){E(this._config.error)?this._config.error(t):i&&this._config.error&&n.postMessage({workerId:c.WORKER_ID,error:t,finished:!1})}}function h(t){var e;(t=t||{}).chunkSize||(t.chunkSize=c.RemoteChunkSize),f.call(this,t),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),r||(e.onload=O(this._chunkLoaded,this),e.onerror=O(this._chunkError,this)),e.open("GET",this._input,!r),this._config.downloadRequestHeaders){var t=this._config.downloadRequestHeaders;for(var n in t)e.setRequestHeader(n,t[n])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+i),e.setRequestHeader("If-None-Match","webkit-no-cache")}try{e.send()}catch(t){this._chunkError(t.message)}r&&0===e.status?this._chunkError():this._start+=this._config.chunkSize}},this._chunkLoaded=function(){var t;4===e.readyState&&(e.status<200||400<=e.status?this._chunkError():(this._finished=!this._config.chunkSize||this._start>(null===(t=e.getResponseHeader("Content-Range"))?-1:parseInt(t.substr(t.lastIndexOf("/")+1))),this.parseChunk(e.responseText)))},this._chunkError=function(t){var n=e.statusText||t;this._sendError(new Error(n))}}function p(t){var e,n;(t=t||{}).chunkSize||(t.chunkSize=c.LocalChunkSize),f.call(this,t);var r="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,n=t.slice||t.webkitSlice||t.mozSlice,r?((e=new FileReader).onload=O(this._chunkLoaded,this),e.onerror=O(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var i=Math.min(this._start+this._config.chunkSize,this._input.size);t=n.call(t,this._start,i)}var o=e.readAsText(t,this._config.encoding);r||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function d(t){var e;f.call(this,t=t||{}),this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t=this._config.chunkSize,n=t?e.substr(0,t):e;return e=t?e.substr(t):"",this._finished=!e,this.parseChunk(n)}}}function y(t){f.call(this,t=t||{});var e=[],n=!0,r=!1;this.pause=function(){f.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){f.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===e.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):n=!0},this._streamData=O(function(t){try{e.push("string"==typeof t?t:t.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(t){this._streamError(t)}},this),this._streamError=O(function(t){this._streamCleanUp(),this._sendError(t)},this),this._streamEnd=O(function(){this._streamCleanUp(),r=!0,this._streamData("")},this),this._streamCleanUp=O(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function m(t){var e,n,r,i=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,o=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,s=this,a=0,u=0,l=!1,f=!1,h=[],p={data:[],errors:[],meta:{}};if(E(t.step)){var d=t.step;t.step=function(e){if(p=e,g())m();else{if(m(),0===p.data.length)return;a+=e.data.length,t.preview&&a>t.preview?n.abort():d(p,s)}}}function y(e){return"greedy"===t.skipEmptyLines?""===e.join("").trim():1===e.length&&0===e[0].length}function m(){if(p&&r&&(k("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),r=!1),t.skipEmptyLines)for(var e=0;e<p.data.length;e++)y(p.data[e])&&p.data.splice(e--,1);return g()&&function(){if(p){for(var e=0;g()&&e<p.data.length;e++)for(var n=0;n<p.data[e].length;n++){var r=p.data[e][n];t.trimHeaders&&(r=r.trim()),h.push(r)}p.data.splice(0,1)}}(),function(){if(!p||!t.header&&!t.dynamicTyping&&!t.transform)return p;for(var e=0;e<p.data.length;e++){var n,r=t.header?{}:[];for(n=0;n<p.data[e].length;n++){var i=n,o=p.data[e][n];t.header&&(i=n>=h.length?"__parsed_extra":h[n]),t.transform&&(o=t.transform(o,i)),o=_(i,o),"__parsed_extra"===i?(r[i]=r[i]||[],r[i].push(o)):r[i]=o}p.data[e]=r,t.header&&(n>h.length?k("FieldMismatch","TooManyFields","Too many fields: expected "+h.length+" fields but parsed "+n,u+e):n<h.length&&k("FieldMismatch","TooFewFields","Too few fields: expected "+h.length+" fields but parsed "+n,u+e))}return t.header&&p.meta&&(p.meta.fields=h),u+=p.data.length,p}()}function g(){return t.header&&0===h.length}function _(e,n){return r=e,t.dynamicTypingFunction&&void 0===t.dynamicTyping[r]&&(t.dynamicTyping[r]=t.dynamicTypingFunction(r)),!0===(t.dynamicTyping[r]||t.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(i.test(n)?parseFloat(n):o.test(n)?new Date(n):""===n?null:n):n;var r}function k(t,e,n,r){p.errors.push({type:t,code:e,message:n,row:r})}this.parse=function(i,o,s){var a=t.quoteChar||'"';if(t.newline||(t.newline=function(t,e){t=t.substr(0,1048576);var n=new RegExp(v(e)+"([^]*?)"+v(e),"gm"),r=(t=t.replace(n,"")).split("\r"),i=t.split("\n"),o=1<i.length&&i[0].length<r[0].length;if(1===r.length||o)return"\n";for(var s=0,a=0;a<r.length;a++)"\n"===r[a][0]&&s++;return s>=r.length/2?"\r\n":"\r"}(i,a)),r=!1,t.delimiter)E(t.delimiter)&&(t.delimiter=t.delimiter(i),p.meta.delimiter=t.delimiter);else{var u=function(e,n,r,i){for(var o,s,a,u=[",","\t","|",";",c.RECORD_SEP,c.UNIT_SEP],l=0;l<u.length;l++){var f=u[l],h=0,p=0,d=0;a=void 0;for(var m=new b({comments:i,delimiter:f,newline:n,preview:10}).parse(e),v=0;v<m.data.length;v++)if(r&&y(m.data[v]))d++;else{var g=m.data[v].length;p+=g,void 0!==a?1<g&&(h+=Math.abs(g-a),a=g):a=0}0<m.data.length&&(p/=m.data.length-d),(void 0===s||s<h)&&1.99<p&&(s=h,o=f)}return{successful:!!(t.delimiter=o),bestDelimiter:o}}(i,t.newline,t.skipEmptyLines,t.comments);u.successful?t.delimiter=u.bestDelimiter:(r=!0,t.delimiter=c.DefaultDelimiter),p.meta.delimiter=t.delimiter}var f=w(t);return t.preview&&t.header&&f.preview++,e=i,n=new b(f),p=n.parse(e,o,s),m(),l?{meta:{paused:!0}}:p||{meta:{paused:!1}}},this.paused=function(){return l},this.pause=function(){l=!0,n.abort(),e=e.substr(n.getCharIndex())},this.resume=function(){l=!1,s.streamer.parseChunk(e,!0)},this.aborted=function(){return f},this.abort=function(){f=!0,n.abort(),p.meta.aborted=!0,E(t.complete)&&t.complete(p),e=""}}function v(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function b(t){var e,n=(t=t||{}).delimiter,r=t.newline,i=t.comments,o=t.step,s=t.preview,a=t.fastMode,u=e=void 0===t.quoteChar?'"':t.quoteChar;if(void 0!==t.escapeChar&&(u=t.escapeChar),("string"!=typeof n||-1<c.BAD_DELIMITERS.indexOf(n))&&(n=","),i===n)throw"Comment character same as delimiter";!0===i?i="#":("string"!=typeof i||-1<c.BAD_DELIMITERS.indexOf(i))&&(i=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var l=0,f=!1;this.parse=function(t,c,h){if("string"!=typeof t)throw"Input must be a string";var p=t.length,d=n.length,y=r.length,m=i.length,b=E(o),g=[],_=[],k=[],w=l=0;if(!t)return D();if(a||!1!==a&&-1===t.indexOf(e)){for(var O=t.split(r),S=0;S<O.length;S++){if(k=O[S],l+=k.length,S!==O.length-1)l+=r.length;else if(h)return D();if(!i||k.substr(0,m)!==i){if(b){if(g=[],T(k.split(n)),M(),f)return D()}else T(k.split(n));if(s&&s<=S)return g=g.slice(0,s),D(!0)}}return D()}for(var C,x=t.indexOf(n,l),P=t.indexOf(r,l),j=new RegExp(v(u)+v(e),"g");;)if(t[l]!==e)if(i&&0===k.length&&t.substr(l,m)===i){if(-1===P)return D();l=P+y,P=t.indexOf(r,l),x=t.indexOf(n,l)}else if(-1!==x&&(x<P||-1===P))k.push(t.substring(l,x)),l=x+d,x=t.indexOf(n,l);else{if(-1===P)break;if(k.push(t.substring(l,P)),N(P+y),b&&(M(),f))return D();if(s&&g.length>=s)return D(!0)}else for(C=l,l++;;){if(-1===(C=t.indexOf(e,C+1)))return h||_.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:g.length,index:l}),A();if(C===p-1)return A(t.substring(l,C).replace(j,e));if(e!==u||t[C+1]!==u){if(e===u||0===C||t[C-1]!==u){var R=I(-1===P?x:Math.min(x,P));if(t[C+1+R]===n){k.push(t.substring(l,C).replace(j,e)),l=C+1+R+d,x=t.indexOf(n,l),P=t.indexOf(r,l);break}var L=I(P);if(t.substr(C+1+L,y)===r){if(k.push(t.substring(l,C).replace(j,e)),N(C+1+L+y),x=t.indexOf(n,l),b&&(M(),f))return D();if(s&&g.length>=s)return D(!0);break}_.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:g.length,index:l}),C++}}else C++}return A();function T(t){g.push(t),w=l}function I(e){var n=0;if(-1!==e){var r=t.substring(C+1,e);r&&""===r.trim()&&(n=r.length)}return n}function A(e){return h||(void 0===e&&(e=t.substr(l)),k.push(e),l=p,T(k),b&&M()),D()}function N(e){l=e,T(k),k=[],P=t.indexOf(r,l)}function D(t){return{data:g,errors:_,meta:{delimiter:n,linebreak:r,aborted:f,truncated:!!t,cursor:w+(c||0)}}}function M(){o(D()),g=[],_=[]}},this.abort=function(){f=!0},this.getCharIndex=function(){return l}}function g(t){var e=t.data,n=a[e.workerId],r=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var i={abort:function(){r=!0,_(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:k,resume:k};if(E(n.userStep)){for(var o=0;o<e.results.data.length&&(n.userStep({data:[e.results.data[o]],errors:e.results.errors,meta:e.results.meta},i),!r);o++);delete e.results}else E(n.userChunk)&&(n.userChunk(e.results,i,e.file),delete e.results)}e.finished&&!r&&_(e.workerId,e.results)}function _(t,e){var n=a[t];E(n.userComplete)&&n.userComplete(e),n.terminate(),delete a[t]}function k(){throw"Not implemented."}function w(t){if("object"!=s(t)||null===t)return t;var e=Array.isArray(t)?[]:{};for(var n in t)e[n]=w(t[n]);return e}function O(t,e){return function(){t.apply(e,arguments)}}function E(t){return"function"==typeof t}return i?n.onmessage=function(t){var e=t.data;if(void 0===c.WORKER_ID&&e&&(c.WORKER_ID=e.workerId),"string"==typeof e.input)n.postMessage({workerId:c.WORKER_ID,results:c.parse(e.input,e.config),finished:!0});else if(n.File&&e.input instanceof File||e.input instanceof Object){var r=c.parse(e.input,e.config);r&&n.postMessage({workerId:c.WORKER_ID,results:r,finished:!0})}}:c.WORKERS_SUPPORTED&&(e=document.getElementsByTagName("script"),t=e.length?e[e.length-1].src:"",document.body?document.addEventListener("DOMContentLoaded",function(){o=!0},!0):o=!0),(h.prototype=Object.create(f.prototype)).constructor=h,(p.prototype=Object.create(f.prototype)).constructor=p,(d.prototype=Object.create(d.prototype)).constructor=d,(y.prototype=Object.create(f.prototype)).constructor=y,c})?r.apply(e,i):r)||(t.exports=o)},69:function(t,e,n){"use strict";var r=n(46),i=n(50),o=n(8),s=Phaser.Utils.Objects.GetValue,a=function(t,e,n){var o,a=s(n,"argsConvert",void 0),c=s(n,"argsConvertScope",void 0),l=t[0];if(u=Object(r.a)(u,t,1),a){!0===a&&(a=i.a,c=void 0);for(var f=0,h=u.length;f<h;f++)u[f]=c?a.call(c,u[f],t):a(u[f],t)}return"string"==typeof l?null==(o=e[l])&&(o=s(e,l,null)):o=l,o.apply(e,u)},u=[],c=function t(e,n,r){var i,u=s(r,"reverse",!1);if(Object(o.a)(e[0]))if(u)for(c=(l=e.length)-1;c>=0;c--)i=t(e[c],n,r);else for(var c=0,l=e.length;c<l;c++)i=t(e[c],n,r);else i=a(e,n,r);return i};e.a=c},8:function(t,e,n){"use strict";e.a=function(t){return"[object Array]"===Object.prototype.toString.call(t)}}}).default});